---
import { mdToHtml } from "@/utils/markdown";
import ServiceCard from "./ServiceCard.astro";
import HashtagIcon from "@/assets/icons/hashtag.svg?react";
import { PositionOverlay } from "@/components/ui/PositionOverlay";

interface Props {
  data: {
    headingHighlight: string;
    headingRemainder: string;
    introText: string;
    items: any[];
  };
}

const { data } = Astro.props;
const introHtml = mdToHtml(data.introText);
---

<section
  id="co-umime"
  class="bg-brand-surface rounded-[60px] relative overflow-hidden"
  data-sb-object-id="src/content/pages/homepage.json"
>
  <div class="container mx-auto px-6 py-24">
    <div class="text-center mb-16 space-y-6 reveal-text" data-delay="0">
      <h2 class="text-2xl font-brand-heading">
        <span class="text-brand-green" data-sb-field-path="services.headingHighlight">{data.headingHighlight}</span>
        <span class="text-brand-dark" data-sb-field-path="services.headingRemainder">{data.headingRemainder}</span>
      </h2>
      <div
        class="text-lg font-book text-brand-dark leading-relaxed max-w-245 mx-auto"
        set:html={introHtml}
        data-sb-field-path="services.introText"
      />
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5">
      {data.items?.map((item: any, index: number) => (
        <div class="reveal-card" data-delay={`${index * 100}`} data-sb-field-path={`services.items.${index}`}>
          <ServiceCard item={item} />
        </div>
      ))}
    </div>
  </div>

  <PositionOverlay bottom="-10px">
    <HashtagIcon className="w-21 h-auto text-brand-green" />
  </PositionOverlay>
</section>
