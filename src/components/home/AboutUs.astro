---
import { getEntry } from "astro:content";
import BenefitsRow from "./BenefitsRow.astro";
import AboutBio from "./AboutBio.astro";
import HashtagIcon from "@/assets/icons/hashtag.svg?react";
import { PositionOverlay } from "@/components/ui/PositionOverlay";

const entry = await getEntry("about", "about");

// Robust defensive guard
if (!entry || !entry.data) {
  console.warn("About section data missing or corrupted.");
  return null;
}

const { benefits = [], bio } = entry.data;
---

<section class="bg-white rounded-[60px] relative overflow-hidden">
  <div class="container mx-auto px-6 py-24">
    <!-- Row 1: Benefits -->
    <BenefitsRow benefits={benefits} />

    <!-- Spacer -->
    <div class="h-24 lg:h-32"></div>

    <!-- Row 2: Bio -->
    <AboutBio bio={bio} />
  </div>

  <!-- Decorative hashtag glued to bottom center -->
  <PositionOverlay bottom="-10px">
    <HashtagIcon className="w-21 h-auto text-brand-green" />
  </PositionOverlay>
</section>
